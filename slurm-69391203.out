Global seed set to 42
Downloading: "https://github.com/DagnyT/hardnet/raw/master/pretrained/train_liberty_with_aug/checkpoint_liberty_with_aug.pth" to /home/hspark/kneel027/.cache/torch/hub/checkpoints/checkpoint_liberty_with_aug.pth
Loading model from models/ldm/stable-diffusion-v1/model.ckpt
Global Step: 470000
LatentDiffusion: Running in eps-prediction mode
DiffusionWrapper has 859.52 M params.
making attention of type 'vanilla' with 512 in_channels
Working with z of shape (1, 4, 32, 32) = 4096 dimensions.
making attention of type 'vanilla' with 512 in_channels
  0%|          | 0.00/5.10M [00:00<?, ?B/s]100%|██████████| 5.10M/5.10M [00:00<00:00, 94.4MB/s]
Downloading:   0%|          | 0.00/939k [00:00<?, ?B/s]Downloading:  12%|█▏        | 108k/939k [00:00<00:00, 1.11MB/s]Downloading: 100%|██████████| 939k/939k [00:00<00:00, 4.85MB/s]
Downloading:   0%|          | 0.00/512k [00:00<?, ?B/s]Downloading:  19%|█▊        | 96.0k/512k [00:00<00:00, 983kB/s]Downloading: 100%|██████████| 512k/512k [00:00<00:00, 2.99MB/s]
Downloading:   0%|          | 0.00/389 [00:00<?, ?B/s]Downloading: 100%|██████████| 389/389 [00:00<00:00, 800kB/s]
Downloading:   0%|          | 0.00/905 [00:00<?, ?B/s]Downloading: 100%|██████████| 905/905 [00:00<00:00, 2.22MB/s]
Downloading:   0%|          | 0.00/4.41k [00:00<?, ?B/s]Downloading: 100%|██████████| 4.41k/4.41k [00:00<00:00, 7.30MB/s]
Downloading:   0%|          | 0.00/1.59G [00:00<?, ?B/s]Downloading:   0%|          | 6.54M/1.59G [00:00<00:24, 68.6MB/s]Downloading:   1%|          | 16.5M/1.59G [00:00<00:18, 89.6MB/s]Downloading:   2%|▏         | 25.6M/1.59G [00:00<00:18, 92.2MB/s]Downloading:   2%|▏         | 34.4M/1.59G [00:00<00:18, 89.4MB/s]Downloading:   3%|▎         | 42.9M/1.59G [00:00<00:19, 87.0MB/s]Downloading:   3%|▎         | 51.8M/1.59G [00:00<00:18, 89.0MB/s]Downloading:   4%|▎         | 60.9M/1.59G [00:00<00:18, 91.0MB/s]Downloading:   4%|▍         | 70.1M/1.59G [00:00<00:17, 92.8MB/s]Downloading:   5%|▍         | 79.0M/1.59G [00:00<00:17, 91.4MB/s]Downloading:   5%|▌         | 87.7M/1.59G [00:01<00:17, 91.2MB/s]Downloading:   6%|▌         | 96.8M/1.59G [00:01<00:17, 92.5MB/s]Downloading:   6%|▋         | 106M/1.59G [00:01<00:17, 92.7MB/s] Downloading:   7%|▋         | 115M/1.59G [00:01<00:17, 92.1MB/s]Downloading:   8%|▊         | 123M/1.59G [00:01<00:17, 91.5MB/s]Downloading:   8%|▊         | 132M/1.59G [00:01<00:17, 91.1MB/s]Downloading:   9%|▊         | 141M/1.59G [00:01<00:16, 92.5MB/s]Downloading:   9%|▉         | 150M/1.59G [00:01<00:16, 93.3MB/s]Downloading:  10%|▉         | 159M/1.59G [00:01<00:16, 91.3MB/s]Downloading:  10%|█         | 168M/1.59G [00:01<00:16, 92.5MB/s]Downloading:  11%|█         | 177M/1.59G [00:02<00:16, 92.4MB/s]Downloading:  11%|█▏        | 186M/1.59G [00:02<00:17, 88.4MB/s]Downloading:  12%|█▏        | 194M/1.59G [00:02<00:17, 88.5MB/s]Downloading:  12%|█▏        | 204M/1.59G [00:02<00:16, 91.6MB/s]Downloading:  13%|█▎        | 213M/1.59G [00:02<00:16, 91.6MB/s]Downloading:  14%|█▎        | 222M/1.59G [00:02<00:16, 92.1MB/s]Downloading:  14%|█▍        | 231M/1.59G [00:02<00:15, 93.4MB/s]Downloading:  15%|█▍        | 240M/1.59G [00:02<00:15, 92.4MB/s]Downloading:  15%|█▌        | 249M/1.59G [00:02<00:15, 93.0MB/s]Downloading:  16%|█▌        | 258M/1.59G [00:02<00:15, 94.0MB/s]Downloading:  16%|█▋        | 267M/1.59G [00:03<00:15, 91.4MB/s]Downloading:  17%|█▋        | 276M/1.59G [00:03<00:16, 88.1MB/s]Downloading:  17%|█▋        | 284M/1.59G [00:03<00:15, 89.1MB/s]Downloading:  18%|█▊        | 293M/1.59G [00:03<00:15, 90.3MB/s]Downloading:  18%|█▊        | 302M/1.59G [00:03<00:15, 89.2MB/s]Downloading:  19%|█▉        | 311M/1.59G [00:03<00:15, 91.7MB/s]Downloading:  20%|█▉        | 320M/1.59G [00:03<00:15, 88.1MB/s]Downloading:  20%|██        | 329M/1.59G [00:03<00:15, 90.4MB/s]Downloading:  21%|██        | 338M/1.59G [00:03<00:14, 91.6MB/s]Downloading:  21%|██▏       | 347M/1.59G [00:03<00:14, 92.0MB/s]Downloading:  22%|██▏       | 356M/1.59G [00:04<00:14, 92.7MB/s]Downloading:  22%|██▏       | 365M/1.59G [00:04<00:14, 89.9MB/s]Downloading:  23%|██▎       | 374M/1.59G [00:04<00:14, 91.7MB/s]Downloading:  23%|██▎       | 383M/1.59G [00:04<00:14, 91.8MB/s]Downloading:  24%|██▍       | 392M/1.59G [00:04<00:14, 91.8MB/s]Downloading:  25%|██▍       | 400M/1.59G [00:04<00:13, 92.5MB/s]Downloading:  25%|██▌       | 409M/1.59G [00:04<00:14, 89.6MB/s]Downloading:  26%|██▌       | 418M/1.59G [00:04<00:14, 87.1MB/s]Downloading:  26%|██▌       | 426M/1.59G [00:04<00:14, 86.7MB/s]Downloading:  27%|██▋       | 435M/1.59G [00:05<00:14, 88.6MB/s]Downloading:  27%|██▋       | 444M/1.59G [00:05<00:13, 90.4MB/s]Downloading:  28%|██▊       | 453M/1.59G [00:05<00:13, 89.0MB/s]Downloading:  28%|██▊       | 461M/1.59G [00:05<00:13, 88.3MB/s]Downloading:  29%|██▉       | 470M/1.59G [00:05<00:13, 87.6MB/s]Downloading:  29%|██▉       | 478M/1.59G [00:05<00:13, 86.7MB/s]Downloading:  30%|██▉       | 487M/1.59G [00:05<00:13, 87.7MB/s]Downloading:  30%|███       | 496M/1.59G [00:05<00:13, 89.3MB/s]Downloading:  31%|███       | 504M/1.59G [00:05<00:13, 89.1MB/s]Downloading:  31%|███▏      | 513M/1.59G [00:05<00:12, 90.9MB/s]Downloading:  32%|███▏      | 522M/1.59G [00:06<00:12, 89.6MB/s]Downloading:  33%|███▎      | 531M/1.59G [00:06<00:12, 91.5MB/s]Downloading:  33%|███▎      | 540M/1.59G [00:06<00:12, 90.4MB/s]Downloading:  34%|███▎      | 548M/1.59G [00:06<00:12, 89.9MB/s]Downloading:  34%|███▍      | 557M/1.59G [00:06<00:12, 90.8MB/s]Downloading:  35%|███▍      | 566M/1.59G [00:06<00:12, 90.2MB/s]Downloading:  35%|███▌      | 575M/1.59G [00:06<00:12, 90.0MB/s]Downloading:  36%|███▌      | 583M/1.59G [00:06<00:12, 87.1MB/s]Downloading:  36%|███▋      | 591M/1.59G [00:06<00:12, 86.4MB/s]Downloading:  37%|███▋      | 601M/1.59G [00:06<00:12, 89.0MB/s]Downloading:  37%|███▋      | 609M/1.59G [00:07<00:12, 86.5MB/s]Downloading:  38%|███▊      | 618M/1.59G [00:07<00:11, 88.9MB/s]Downloading:  38%|███▊      | 627M/1.59G [00:07<00:11, 89.3MB/s]Downloading:  39%|███▉      | 636M/1.59G [00:07<00:11, 90.4MB/s]Downloading:  39%|███▉      | 644M/1.59G [00:07<00:11, 89.0MB/s]Downloading:  40%|████      | 653M/1.59G [00:07<00:11, 87.0MB/s]Downloading:  41%|████      | 662M/1.59G [00:07<00:11, 90.0MB/s]Downloading:  41%|████      | 671M/1.59G [00:07<00:10, 91.9MB/s]Downloading:  42%|████▏     | 680M/1.59G [00:07<00:10, 91.3MB/s]Downloading:  42%|████▏     | 689M/1.59G [00:08<00:10, 90.8MB/s]Downloading:  43%|████▎     | 698M/1.59G [00:08<00:10, 91.6MB/s]Downloading:  43%|████▎     | 707M/1.59G [00:08<00:10, 92.6MB/s]Downloading:  44%|████▍     | 716M/1.59G [00:08<00:10, 90.3MB/s]Downloading:  44%|████▍     | 724M/1.59G [00:08<00:10, 91.4MB/s]Downloading:  45%|████▍     | 734M/1.59G [00:08<00:10, 93.6MB/s]Downloading:  46%|████▌     | 743M/1.59G [00:08<00:09, 93.2MB/s]Downloading:  46%|████▌     | 752M/1.59G [00:08<00:09, 92.6MB/s]Downloading:  47%|████▋     | 761M/1.59G [00:08<00:10, 89.2MB/s]Downloading:  47%|████▋     | 770M/1.59G [00:08<00:09, 91.2MB/s]Downloading:  48%|████▊     | 779M/1.59G [00:09<00:09, 92.6MB/s]Downloading:  48%|████▊     | 788M/1.59G [00:09<00:09, 92.5MB/s]Downloading:  49%|████▉     | 797M/1.59G [00:09<00:09, 88.4MB/s]Downloading:  49%|████▉     | 805M/1.59G [00:09<00:09, 87.7MB/s]Downloading:  50%|████▉     | 814M/1.59G [00:09<00:09, 88.3MB/s]Downloading:  50%|█████     | 822M/1.59G [00:09<00:09, 89.0MB/s]Downloading:  51%|█████     | 831M/1.59G [00:09<00:09, 86.5MB/s]Downloading:  51%|█████▏    | 839M/1.59G [00:09<00:09, 86.0MB/s]Downloading:  52%|█████▏    | 847M/1.59G [00:09<00:09, 85.8MB/s]Downloading:  52%|█████▏    | 856M/1.59G [00:09<00:09, 87.5MB/s]Downloading:  53%|█████▎    | 865M/1.59G [00:10<00:09, 87.7MB/s]Downloading:  54%|█████▎    | 874M/1.59G [00:10<00:08, 89.6MB/s]Downloading:  54%|█████▍    | 882M/1.59G [00:10<00:08, 90.2MB/s]Downloading:  55%|█████▍    | 891M/1.59G [00:10<00:08, 88.2MB/s]Downloading:  55%|█████▌    | 900M/1.59G [00:10<00:08, 90.9MB/s]Downloading:  56%|█████▌    | 909M/1.59G [00:10<00:08, 91.0MB/s]Downloading:  56%|█████▌    | 918M/1.59G [00:10<00:08, 88.0MB/s]Downloading:  57%|█████▋    | 926M/1.59G [00:10<00:08, 86.9MB/s]Downloading:  57%|█████▋    | 935M/1.59G [00:10<00:08, 88.9MB/s]Downloading:  58%|█████▊    | 943M/1.59G [00:11<00:08, 85.9MB/s]Downloading:  58%|█████▊    | 952M/1.59G [00:11<00:08, 83.0MB/s]Downloading:  59%|█████▉    | 960M/1.59G [00:11<00:08, 85.1MB/s]Downloading:  59%|█████▉    | 968M/1.59G [00:11<00:08, 83.9MB/s]Downloading:  60%|█████▉    | 976M/1.59G [00:11<00:08, 80.9MB/s]Downloading:  60%|██████    | 985M/1.59G [00:11<00:08, 83.7MB/s]Downloading:  61%|██████    | 994M/1.59G [00:11<00:07, 86.4MB/s]Downloading:  61%|██████▏   | 0.98G/1.59G [00:11<00:07, 87.0MB/s]Downloading:  62%|██████▏   | 0.99G/1.59G [00:11<00:07, 88.3MB/s]Downloading:  63%|██████▎   | 1.00G/1.59G [00:11<00:07, 88.8MB/s]Downloading:  63%|██████▎   | 1.00G/1.59G [00:12<00:07, 87.8MB/s]Downloading:  64%|██████▎   | 1.01G/1.59G [00:12<00:07, 88.0MB/s]Downloading:  64%|██████▍   | 1.02G/1.59G [00:12<00:06, 89.2MB/s]Downloading:  65%|██████▍   | 1.03G/1.59G [00:12<00:07, 86.1MB/s]Downloading:  65%|██████▌   | 1.04G/1.59G [00:12<00:07, 82.5MB/s]Downloading:  66%|██████▌   | 1.05G/1.59G [00:12<00:06, 84.5MB/s]Downloading:  66%|██████▌   | 1.05G/1.59G [00:12<00:07, 81.6MB/s]Downloading:  67%|██████▋   | 1.06G/1.59G [00:12<00:06, 83.8MB/s]Downloading:  67%|██████▋   | 1.07G/1.59G [00:12<00:06, 83.2MB/s]Downloading:  68%|██████▊   | 1.08G/1.59G [00:12<00:06, 80.6MB/s]Downloading:  68%|██████▊   | 1.09G/1.59G [00:13<00:06, 82.5MB/s]Downloading:  69%|██████▊   | 1.09G/1.59G [00:13<00:06, 82.1MB/s]Downloading:  69%|██████▉   | 1.10G/1.59G [00:13<00:06, 79.9MB/s]Downloading:  70%|██████▉   | 1.11G/1.59G [00:13<00:06, 79.3MB/s]Downloading:  70%|███████   | 1.12G/1.59G [00:13<00:06, 79.9MB/s]Downloading:  71%|███████   | 1.12G/1.59G [00:13<00:06, 82.6MB/s]Downloading:  71%|███████   | 1.13G/1.59G [00:13<00:05, 84.7MB/s]Downloading:  72%|███████▏  | 1.14G/1.59G [00:13<00:05, 86.4MB/s]Downloading:  72%|███████▏  | 1.15G/1.59G [00:13<00:06, 79.0MB/s]Downloading:  73%|███████▎  | 1.16G/1.59G [00:14<00:05, 82.1MB/s]Downloading:  73%|███████▎  | 1.17G/1.59G [00:14<00:05, 83.8MB/s]Downloading:  74%|███████▎  | 1.17G/1.59G [00:14<00:05, 82.1MB/s]Downloading:  74%|███████▍  | 1.18G/1.59G [00:14<00:05, 82.3MB/s]Downloading:  75%|███████▍  | 1.19G/1.59G [00:14<00:05, 82.6MB/s]Downloading:  75%|███████▌  | 1.20G/1.59G [00:14<00:04, 85.4MB/s]Downloading:  76%|███████▌  | 1.21G/1.59G [00:14<00:04, 87.1MB/s]Downloading:  76%|███████▋  | 1.22G/1.59G [00:14<00:04, 87.8MB/s]Downloading:  77%|███████▋  | 1.22G/1.59G [00:14<00:04, 87.9MB/s]Downloading:  77%|███████▋  | 1.23G/1.59G [00:14<00:04, 90.0MB/s]Downloading:  78%|███████▊  | 1.24G/1.59G [00:15<00:04, 90.3MB/s]Downloading:  78%|███████▊  | 1.25G/1.59G [00:15<00:04, 78.0MB/s]Downloading:  79%|███████▉  | 1.26G/1.59G [00:15<00:04, 79.5MB/s]Downloading:  79%|███████▉  | 1.27G/1.59G [00:15<00:04, 79.2MB/s]Downloading:  80%|███████▉  | 1.27G/1.59G [00:15<00:04, 83.3MB/s]Downloading:  81%|████████  | 1.28G/1.59G [00:15<00:03, 87.3MB/s]Downloading:  81%|████████  | 1.29G/1.59G [00:15<00:03, 87.5MB/s]Downloading:  82%|████████▏ | 1.30G/1.59G [00:15<00:03, 86.9MB/s]Downloading:  82%|████████▏ | 1.31G/1.59G [00:15<00:03, 89.0MB/s]Downloading:  83%|████████▎ | 1.32G/1.59G [00:16<00:03, 85.0MB/s]Downloading:  83%|████████▎ | 1.33G/1.59G [00:16<00:03, 87.4MB/s]Downloading:  84%|████████▎ | 1.33G/1.59G [00:16<00:03, 89.3MB/s]Downloading:  84%|████████▍ | 1.34G/1.59G [00:16<00:03, 88.0MB/s]Downloading:  85%|████████▍ | 1.35G/1.59G [00:16<00:02, 90.4MB/s]Downloading:  85%|████████▌ | 1.36G/1.59G [00:16<00:02, 90.3MB/s]Downloading:  86%|████████▌ | 1.37G/1.59G [00:16<00:02, 91.3MB/s]Downloading:  86%|████████▋ | 1.38G/1.59G [00:16<00:02, 90.9MB/s]Downloading:  87%|████████▋ | 1.39G/1.59G [00:16<00:02, 92.3MB/s]Downloading:  88%|████████▊ | 1.39G/1.59G [00:16<00:02, 91.7MB/s]Downloading:  88%|████████▊ | 1.40G/1.59G [00:17<00:02, 86.6MB/s]Downloading:  89%|████████▊ | 1.41G/1.59G [00:17<00:02, 88.6MB/s]Downloading:  89%|████████▉ | 1.42G/1.59G [00:17<00:02, 85.7MB/s]Downloading:  90%|████████▉ | 1.43G/1.59G [00:17<00:02, 85.8MB/s]Downloading:  90%|█████████ | 1.44G/1.59G [00:17<00:01, 85.1MB/s]Downloading:  91%|█████████ | 1.44G/1.59G [00:17<00:01, 85.2MB/s]Downloading:  91%|█████████ | 1.45G/1.59G [00:17<00:01, 87.5MB/s]Downloading:  92%|█████████▏| 1.46G/1.59G [00:17<00:01, 86.1MB/s]Downloading:  92%|█████████▏| 1.47G/1.59G [00:17<00:01, 88.3MB/s]Downloading:  93%|█████████▎| 1.48G/1.59G [00:17<00:01, 89.6MB/s]Downloading:  93%|█████████▎| 1.49G/1.59G [00:18<00:01, 89.8MB/s]Downloading:  94%|█████████▍| 1.50G/1.59G [00:18<00:01, 90.2MB/s]Downloading:  94%|█████████▍| 1.50G/1.59G [00:18<00:01, 91.4MB/s]Downloading:  95%|█████████▍| 1.51G/1.59G [00:18<00:00, 89.9MB/s]Downloading:  95%|█████████▌| 1.52G/1.59G [00:18<00:00, 90.2MB/s]Downloading:  96%|█████████▌| 1.53G/1.59G [00:18<00:00, 90.0MB/s]Downloading:  97%|█████████▋| 1.54G/1.59G [00:18<00:00, 92.5MB/s]Downloading:  97%|█████████▋| 1.55G/1.59G [00:18<00:00, 87.5MB/s]Downloading:  98%|█████████▊| 1.56G/1.59G [00:18<00:00, 89.4MB/s]Downloading:  98%|█████████▊| 1.57G/1.59G [00:19<00:00, 91.8MB/s]Downloading:  99%|█████████▉| 1.57G/1.59G [00:19<00:00, 90.8MB/s]Downloading:  99%|█████████▉| 1.58G/1.59G [00:19<00:00, 85.9MB/s]Downloading: 100%|█████████▉| 1.59G/1.59G [00:19<00:00, 83.4MB/s]Downloading: 100%|██████████| 1.59G/1.59G [00:19<00:00, 88.2MB/s]
Traceback (most recent call last):
  File "/home/csci5527/kneel027/miniconda/envs/ldm/lib/python3.8/site-packages/transformers/modeling_utils.py", line 392, in load_state_dict
    return torch.load(checkpoint_file, map_location="cpu")
  File "/home/csci5527/kneel027/miniconda/envs/ldm/lib/python3.8/site-packages/torch/serialization.py", line 712, in load
    return _load(opened_zipfile, map_location, pickle_module, **pickle_load_args)
  File "/home/csci5527/kneel027/miniconda/envs/ldm/lib/python3.8/site-packages/torch/serialization.py", line 1046, in _load
    result = unpickler.load()
  File "/home/csci5527/kneel027/miniconda/envs/ldm/lib/python3.8/site-packages/torch/serialization.py", line 1016, in persistent_load
    load_tensor(dtype, nbytes, key, _maybe_decode_ascii(location))
  File "/home/csci5527/kneel027/miniconda/envs/ldm/lib/python3.8/site-packages/torch/serialization.py", line 997, in load_tensor
    storage = zip_file.get_storage_from_record(name, numel, torch._UntypedStorage).storage()._untyped()
OSError: [Errno 14] Bad address

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "scripts/txt2img.py", line 344, in <module>
    main()
  File "scripts/txt2img.py", line 240, in main
    model = load_model_from_config(config, f"{opt.ckpt}")
  File "scripts/txt2img.py", line 54, in load_model_from_config
    model = instantiate_from_config(config.model)
  File "/panfs/jay/groups/6/csci5527/kneel027/Artificial-Image-Classification/stable-diffusion/ldm/util.py", line 85, in instantiate_from_config
    return get_obj_from_str(config["target"])(**config.get("params", dict()))
  File "/panfs/jay/groups/6/csci5527/kneel027/Artificial-Image-Classification/stable-diffusion/ldm/models/diffusion/ddpm.py", line 461, in __init__
    self.instantiate_cond_stage(cond_stage_config)
  File "/panfs/jay/groups/6/csci5527/kneel027/Artificial-Image-Classification/stable-diffusion/ldm/models/diffusion/ddpm.py", line 519, in instantiate_cond_stage
    model = instantiate_from_config(config)
  File "/panfs/jay/groups/6/csci5527/kneel027/Artificial-Image-Classification/stable-diffusion/ldm/util.py", line 85, in instantiate_from_config
    return get_obj_from_str(config["target"])(**config.get("params", dict()))
  File "/panfs/jay/groups/6/csci5527/kneel027/Artificial-Image-Classification/stable-diffusion/ldm/modules/encoders/modules.py", line 142, in __init__
    self.transformer = CLIPTextModel.from_pretrained(version)
  File "/home/csci5527/kneel027/miniconda/envs/ldm/lib/python3.8/site-packages/transformers/modeling_utils.py", line 1978, in from_pretrained
    state_dict = load_state_dict(resolved_archive_file)
  File "/home/csci5527/kneel027/miniconda/envs/ldm/lib/python3.8/site-packages/transformers/modeling_utils.py", line 396, in load_state_dict
    if f.read().startswith("version"):
OSError: [Errno 14] Bad address
